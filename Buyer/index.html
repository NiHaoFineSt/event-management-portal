<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flea Market Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body x-data="{ 
    sidebarOpen: true,
    searchQuery: '',
    items: [
        { id: 1, name: 'Vintage Record Player', category: 'Electronics', location: 'Hall A', price: '$45', image: 'https://placeholder.svg?height=150&width=200' },
        { id: 2, name: 'Antique Wooden Chair', category: 'Furniture', location: 'Hall B', price: '$60', image: 'https://placeholder.svg?height=150&width=200' },
        { id: 3, name: 'Collection of Vinyl Records', category: 'Music', location: 'Hall A', price: '$35', image: 'https://placeholder.svg?height=150&width=200' },
        { id: 4, name: 'Handmade Pottery Set', category: 'Home Decor', location: 'Hall C', price: '$25', image: 'https://placeholder.svg?height=150&width=200' },
        { id: 5, name: 'Vintage Camera', category: 'Electronics', location: 'Hall B', price: '$50', image: 'https://placeholder.svg?height=150&width=200' },
        { id: 6, name: 'Retro Lamp', category: 'Home Decor', location: 'Hall A', price: '$30', image: 'https://placeholder.svg?height=150&width=200' }
    ],
    categories: ['All', 'Electronics', 'Furniture', 'Music', 'Home Decor'],
    locations: ['All', 'Hall A', 'Hall B', 'Hall C'],
    selectedCategory: 'All',
    selectedLocation: 'All',
    bookedItems: [],
    
    filteredItems() {
        return this.items.filter(item => {
            const categoryMatch = this.selectedCategory === 'All' || item.category === this.selectedCategory;
            const locationMatch = this.selectedLocation === 'All' || item.location === this.selectedLocation;
            const searchMatch = this.searchQuery === '' || item.name.toLowerCase().includes(this.searchQuery.toLowerCase());
            return categoryMatch && locationMatch && searchMatch;
        });
    },
    
    bookItem(item) {
        window.location.href = 'booking-form.html?itemId=' + item.id + '&itemName=' + encodeURIComponent(item.name);
    }
}">
    <div class="dashboard">
        <!-- Sidebar -->
        <div class="sidebar" :class="{ 'collapsed': !sidebarOpen }">
            <div class="sidebar-header">
                <h2>Flea Market</h2>
                <button @click="sidebarOpen = !sidebarOpen" class="toggle-btn">
                    <i class="fas" :class="sidebarOpen ? 'fa-chevron-left' : 'fa-chevron-right'"></i>
                </button>
            </div>
            
            <div class="sidebar-content">
                <div class="filter-section">
                    <h3>Categories</h3>
                    <ul>
                        <template x-for="category in categories" :key="category">
                            <li>
                                <a href="#" 
                                   @click.prevent="selectedCategory = category"
                                   :class="{ 'active': selectedCategory === category }"
                                   x-text="category"></a>
                            </li>
                        </template>
                    </ul>
                </div>
                
                <div class="filter-section">
                    <h3>Location</h3>
                    <ul>
                        <template x-for="location in locations" :key="location">
                            <li>
                                <a href="#" 
                                   @click.prevent="selectedLocation = location"
                                   :class="{ 'active': selectedLocation === location }"
                                   x-text="location"></a>
                            </li>
                        </template>
                    </ul>
                </div>
                
                <div class="sidebar-footer">
                    <a href="booked-items.html" class="booked-items-link">
                        <i class="fas fa-bookmark"></i>
                        <span>Booked Items</span>
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1>Available Items</h1>
                <div class="search-container">
                    <div class="search-box">
                        <input type="text" 
                               x-model="searchQuery" 
                               placeholder="Search items..." 
                               class="search-input">
                        <button class="search-btn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="items-grid">
                <template x-for="item in filteredItems()" :key="item.id">
                    <div class="item-card">
                        <div class="item-image">
                            <img :src="item.image" :alt="item.name">
                        </div>
                        <div class="item-details">
                            <h3 x-text="item.name"></h3>
                            <p class="category" x-text="item.category"></p>
                            <p class="location"><i class="fas fa-map-marker-alt"></i> <span x-text="item.location"></span></p>
                            <p class="price" x-text="item.price"></p>
                            <button @click="bookItem(item)" class="book-btn">Book Item</button>
                        </div>
                    </div>
                </template>
            </div>
        </div>
    </div>
</body>
</html>
